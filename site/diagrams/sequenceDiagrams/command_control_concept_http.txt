participant Device
participant HTTP Adapter
participant AMQP 1.0 Network
participant Application

Device->HTTP Adapter: 1. send event (ttd=30)
activate HTTP Adapter
HTTP Adapter->Application: 2. connected notification (ttd=30)
activate Application
Application->HTTP Adapter: 3. transfer("control/TENANT/4711","light","ON")
HTTP Adapter->Device: 4. event response("light","ON")
deactivate HTTP Adapter
note over Device
Next event sends the response of the command in HTTP header
end note over
Device->HTTP Adapter: 5. send event
HTTP Adapter->Application: 6. transfer("control/TENANT/4711/${replyId}",200,"lumen=100")
deactivate Application
