title Protocol Adapter Device Authentication (MQTT, success)

Device->+MQTT Protocol Adapter: CONNECT(username, hashed-password)

MQTT Protocol Adapter->+Credentials Service: transfer("credentials/TENANT", "get", "hashed-password", username)
note over Credentials Service: lookup credentials
Credentials Service->-MQTT Protocol Adapter: transfer("credentials/TENANT", "200", credentials)

note over MQTT Protocol Adapter:
Verify retrieved credentials
against hashed-password
end note
MQTT Protocol Adapter->-Device: CONNACK
