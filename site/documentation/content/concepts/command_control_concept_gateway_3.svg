<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="382.8px" preserveAspectRatio="none" style="width:1046px;height:382px;" version="1.1" viewBox="0 0 1046 382" width="1046.4px" zoomAndPan="magnify"><defs><filter height="300%" id="f1syi2mmgw2dx7" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.4"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.8" dy="4.8" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#DDDDDD" height="364.9406" style="stroke: #A80036; stroke-width: 1.2;" width="360" x="358.8" y="4.8"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="45.6" x="516" y="19.2803">Hono</text><rect fill="#FFFFFF" filter="url(#f1syi2mmgw2dx7)" height="173.7563" style="stroke: #000000; stroke-width: 2.4;" width="1018.8" x="14.4" y="110.0719"/><line style="stroke: #A80036; stroke-width: 1.2; stroke-dasharray: 5.0,5.0;" x1="187.2" x2="187.2" y1="89.6719" y2="304.2281"/><line style="stroke: #A80036; stroke-width: 1.2; stroke-dasharray: 5.0,5.0;" x1="442.8" x2="442.8" y1="89.6719" y2="304.2281"/><line style="stroke: #A80036; stroke-width: 1.2; stroke-dasharray: 5.0,5.0;" x1="624" x2="624" y1="89.6719" y2="304.2281"/><line style="stroke: #A80036; stroke-width: 1.2; stroke-dasharray: 5.0,5.0;" x1="811.2" x2="811.2" y1="89.6719" y2="304.2281"/><line style="stroke: #A80036; stroke-width: 1.2; stroke-dasharray: 5.0,5.0;" x1="964.8" x2="964.8" y1="89.6719" y2="304.2281"/><rect fill="#FEFECE" filter="url(#f1syi2mmgw2dx7)" height="36.3562" style="stroke: #A80036; stroke-width: 1.7999999999999998;" width="87.6" x="141.6" y="47.3156"/><text fill="#000000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="70.8" x="150" y="71.3098">Gateway</text><rect fill="#FEFECE" filter="url(#f1syi2mmgw2dx7)" height="36.3562" style="stroke: #A80036; stroke-width: 1.7999999999999998;" width="87.6" x="141.6" y="303.0281"/><text fill="#000000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="70.8" x="150" y="327.0223">Gateway</text><rect fill="#FEFECE" filter="url(#f1syi2mmgw2dx7)" height="55.9125" style="stroke: #A80036; stroke-width: 1.7999999999999998;" width="154.8" x="363.6" y="27.7594"/><text fill="#000000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="138" x="372" y="51.7535">Protocol Adapter</text><text fill="#000000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="86.4" x="397.8" y="71.3098">instance 1</text><rect fill="#FEFECE" filter="url(#f1syi2mmgw2dx7)" height="55.9125" style="stroke: #A80036; stroke-width: 1.7999999999999998;" width="154.8" x="363.6" y="303.0281"/><text fill="#000000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="138" x="372" y="327.0223">Protocol Adapter</text><text fill="#000000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="86.4" x="397.8" y="346.5785">instance 1</text><rect fill="#FEFECE" filter="url(#f1syi2mmgw2dx7)" height="55.9125" style="stroke: #A80036; stroke-width: 1.7999999999999998;" width="174" x="535.2" y="27.7594"/><text fill="#000000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="157.2" x="543.6" y="51.7535">Device Connection</text><text fill="#000000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="126" x="559.2" y="71.3098">API component</text><rect fill="#FEFECE" filter="url(#f1syi2mmgw2dx7)" height="55.9125" style="stroke: #A80036; stroke-width: 1.7999999999999998;" width="174" x="535.2" y="303.0281"/><text fill="#000000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="157.2" x="543.6" y="327.0223">Device Connection</text><text fill="#000000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="126" x="559.2" y="346.5785">API component</text><rect fill="#FEFECE" filter="url(#f1syi2mmgw2dx7)" height="55.9125" style="stroke: #A80036; stroke-width: 1.7999999999999998;" width="166.8" x="726" y="27.7594"/><text fill="#000000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="145.2" x="734.4" y="51.7535">AMQP messaging</text><text fill="#000000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="67.2" x="775.8" y="71.3098">network</text><rect fill="#FEFECE" filter="url(#f1syi2mmgw2dx7)" height="55.9125" style="stroke: #A80036; stroke-width: 1.7999999999999998;" width="166.8" x="726" y="303.0281"/><text fill="#000000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="145.2" x="734.4" y="327.0223">AMQP messaging</text><text fill="#000000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="67.2" x="775.8" y="346.5785">network</text><rect fill="#FEFECE" filter="url(#f1syi2mmgw2dx7)" height="36.3562" style="stroke: #A80036; stroke-width: 1.7999999999999998;" width="106.8" x="909.6" y="47.3156"/><text fill="#000000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="90" x="918" y="71.3098">Application</text><rect fill="#FEFECE" filter="url(#f1syi2mmgw2dx7)" height="36.3562" style="stroke: #A80036; stroke-width: 1.7999999999999998;" width="106.8" x="909.6" y="303.0281"/><text fill="#000000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="90" x="918" y="327.0223">Application</text><path d="M14.4,110.0719 L328.8,110.0719 L328.8,118.4719 L316.8,130.4719 L14.4,130.4719 L14.4,110.0719 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.2;"/><rect fill="none" height="173.7563" style="stroke: #000000; stroke-width: 2.4;" width="1018.8" x="14.4" y="110.0719"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="260.4" x="32.4" y="125.7521">Command response handling</text><path d="M26.4,136.6313 L26.4,184.6313 L343.2,184.6313 L343.2,148.6313 L331.2,136.6313 L26.4,136.6313 " fill="#FBFB77" filter="url(#f1syi2mmgw2dx7)" style="stroke: #A80036; stroke-width: 1.2;"/><path d="M331.2,136.6313 L331.2,148.6313 L343.2,148.6313 L331.2,136.6313 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.2;"/><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="194.4" x="33.6" y="157.1115">The gateway receives the</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="291.6" x="33.6" y="175.2709">command response from device 4711</text><polygon fill="#A80036" points="429,216.3094,441,221.1094,429,225.9094,433.8,221.1094" style="stroke: #A80036; stroke-width: 1.2;"/><line style="stroke: #A80036; stroke-width: 1.2;" x1="187.8" x2="436.2" y1="221.1094" y2="221.1094"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="10.8" x="196.2" y="215.0303">1</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="211.2" x="211.8" y="215.0303">Command response is sent</text><polygon fill="#A80036" points="951,269.4281,963,274.2281,951,279.0281,955.8,274.2281" style="stroke: #A80036; stroke-width: 1.2;"/><line style="stroke: #A80036; stroke-width: 1.2;" x1="443.4" x2="958.2" y1="274.2281" y2="274.2281"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="10.8" x="451.8" y="259.0693">2</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="390" x="467.4" y="249.9896">transfer("command_response/TENANT/${replyId}",</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="453.6" x="472.2" y="268.149">"status=200","${payload}")   via AMQP messaging network</text><!--MD5=[314ae5857e0e2e146e21c67a08eb6e9b]
@startuml
scale 1.2

participant Gateway order 20
box "Hono"
    participant "Protocol Adapter\ninstance 1" order 30
    participant "Device Connection\nAPI component" order 50
end box
participant "AMQP messaging \nnetwork" order 60
participant Application order 70

autonumber

group Command response handling
    note over Gateway
    The gateway receives the
    command response from device 4711
    end note
    Gateway -> "Protocol Adapter\ninstance 1": Command response is sent
    "Protocol Adapter\ninstance 1" -> Application: transfer("command_response/TENANT/${replyId}",\n "status=200","${payload}")   via AMQP messaging network
    deactivate "Protocol Adapter\ninstance 1"
    deactivate Application
end
@enduml

PlantUML version 1.2019.11(Sun Sep 22 12:02:15 CEST 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.4+11-post-Ubuntu-1ubuntu218.04.3
Operating System: Linux
Default Encoding: UTF-8
Language: de
Country: DE
--></g></svg>